{% extends 'user/user_base.html' %}

{% block section %} games{% endblock %}

{% block user_content %}
<table>
    <tr>
        <th>ID</th>
        <th>Game</th>
        <th>Status</th>
        <th>Steam playtime</th>
        <th>Other playtime</th>
        <th>Total playtime</th>
        <th>Dates</th>
        <th>Predicted score</th>
        <th>Completions</th>
    </tr>
    {% for ug in object_list %}
    <tr>
        <td>{{ug.game.id}}</td>
        <td><a href="{{url_for('game.game', game_id = ug.game.id, game_name = ug.game.steam_app.name)}}">{{ug.game.steam_app.name}}</td>
        <td>{{ug.status.name}}</td>
        <td>{{(ug.steam_playtime/60)|round|int}}</td>
        <td>{{(ug.other_playtime/60)|round|int}}</td>
        <td>{{((ug.steam_playtime + ug.other_playtime)/60)|round|int}}</td>
        <td>{{ug.start_date}}<br>{{ug.end_date}}</td>
        {% if ug.predicted_score is not none %}
            <td>{{((ug.predicted_score+1.0)*5)|round|int}}</td>
        {% else %}
            <td></td>
        {% endif %}
        <td>{{ug.completions}}</td>
    </tr>
    {% endfor %}
</table>
{% if page > 1 %}
<a href="?page={{ page - 1 }}">Prev</a>
{% endif %}
{% if page < pagination.get_pages() %}
<a href="?page={{ page + 1 }}">Next</a>
{% endif %}
{% endblock %}